<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Namakemono Document Viz</title>
</head>

<body>
  <div id="container">
    <div id="logs">
      <nama-peer author="anna" interval=2500 owner="true">
        <nama-log-viz peer="anna"></nama-log-viz>
      </nama-peer>
      <nama-peer author="billy" latency=100 interval=2000>
        <nama-log-viz peer="billy"></nama-log-viz>
      </nama-peer>
      <nama-peer author="claire" latency=300 interval=3000>
        <nama-log-viz peer="claire"></nama-log-viz>
      </nama-peer>
    </div>
    <nama-graph-viz peer="anna"></nama-graph-viz>
    <div id="controls">
      <button id="go">START!</button>
      <h2>Document</h2>

      <p>
        A document "window" bounds the set of operations which make up it's current history. It's
        possible to keep a documents entire history of changes, or only the most recent. The size of
        the window is determined by the documents' pruning strategy. Below are three basic
        parameters for configuring when operations should be pruned, by depth (distance from tip) or
        by timestamp. There is the possibility to introduce custom pruning algorithms which could have
        application specific logic.
      </p>

      <nama-document-controls depth=30 depth-per-log=4 ms=2000></nama-document-controls>
      <h2>Capabilities</h2>

      <p>
        Initially only a documents owner (creator) is authorized to perform any actions (read, write,
        delete) on it. When collaboration is desired, the owner can issue tokens (aka
        capabilities) which state <i>who</i> can perform <i>what</i> actions <i>when</i>. The
        current document is owned by <b>anna</b>, we can simulate issuing capabilities over time
        ranges here. Type the name ("billy" or "claire") of the author you want to issue the
        capability to, and state how long it should be valid.
      </p>

      <nama-caps></nama-caps>
    </div>
  </div>
  <noscript>This page contains webassembly and javascript content, please enable javascript in your browser.</noscript>
  <script src="./bootstrap.js"></script>
</body>

</html>